<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>TBjs</title>
    <!--    加载provider-->
    <script src="classes/src/providers/ast.js"></script>
    <script src="classes/src/providers/compile.js"></script>
    <script src="classes/src/providers/async.js"></script>
    <script src="classes/src/providers/lexer.js"></script>
    <script src="classes/src/providers/model.js"></script>
    <script src="classes/src/providers/module.js"></script>
    <script src="classes/src/providers/parse.js"></script>
    <script src="classes/src/providers/promise.js"></script>
    <script src="classes/src/providers/query.js"></script>
    <script src="classes/src/providers/virtualDom.js"></script>
    <script src="classes/src/providers/directive.js"></script>
    <!--    加载directive-->
    <script src="classes/src/directives/event.js"></script>
    <script src="classes/src/directives/tbClass.js"></script>
    <script src="classes/src/directives/tbFor.js"></script>
    <script src="classes/src/directives/tbIf.js"></script>
    <script src="classes/src/directives/tbInit.js"></script>
    <script src="classes/src/directives/tbModel.js"></script>
    <script src="classes/src/directives/tbModule.js"></script>
    <script src="classes/src/directives/tbShow.js"></script>
    <script src="classes/src/directives/tbStyle.js"></script>
    <script src="classes/src/directives/tbTemplate.js"></script>
    <!--    加载主文件-->
    <script src="classes/src/toolkit.js"></script>
    <script src="classes/src/main.js"></script>
    <script src="classes/src/injector.js"></script>
    <script src="classes/src/bootstarp.js"></script>
    <script>
        window.onload = function() {

            var app = TBjs.app('app', []);
            app.module('nav', ['$query', function($query) {
                return function() {
                    this.a = 'a'
                }
            }]).filter('toHtml', function() {
                return function(value) {
                    return value;
                }
            }).directive('show', ['$parse', function($parse) {
				var obj={
                    a: {
						num: function(){
							alert(333)
						}
					},
                    b: 2,
                    c: 4,
                    d: 2
                };
                var a = $parse('this[0?a:b]=3')(obj);
                console.log(a);
				console.log(obj);


                return function() {}
            }])
            bootstrap(document, ['app']);


        }
    </script>
</head>

<body>
    <div show tb-click="" tb-if test>fdsfdsafdsa</div>
    <input type="text" tb-focus>
    <img src="" alt="" />

</body>

</html>
